/*
 * Copyright 2024 New Vector Ltd.
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 * Please see LICENSE in the repository root for full details.
 */

package io.element.android.features.messages.impl.messagecomposer.forms

import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.consumeWindowInsets
import androidx.compose.foundation.layout.fillMaxWidth
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.ExperimentalMaterial3Api
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import io.element.android.compound.theme.ElementTheme
import io.element.android.libraries.designsystem.components.Form
import io.element.android.libraries.designsystem.components.button.BackButton
import io.element.android.libraries.designsystem.theme.aliasScreenTitle
import io.element.android.libraries.designsystem.theme.components.Scaffold
import io.element.android.libraries.designsystem.theme.components.Text
import io.element.android.libraries.designsystem.theme.components.TopAppBar

const val defaultSchema = "{\r\n  \"components\": [\r\n    {\r\n      \"content\": \"<p style=\\\"sans-serif; font-size: 24px; color: #333; text-align: center; background-color: #F0F7F9\\\">Supplier Onboarding Form</p>\\n\",\r\n      \"label\": \"HTML view\",\r\n      \"type\": \"html\",\r\n      \"layout\": {\r\n        \"row\": \"Row_0io2fk9\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_1xief5c\"\r\n    },\r\n    {\r\n      \"components\": [\r\n        {\r\n          \"label\": \"Main trading name\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0h18v6d\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0lohu71\",\r\n          \"key\": \"main_traiding_name\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Other trading names\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_16v1lzw\",\r\n            \"columns\": 16\r\n          },\r\n          \"id\": \"Field_1i5znzh\",\r\n          \"key\": \"other_traiding_names\"\r\n        }\r\n      ],\r\n      \"showOutline\": true,\r\n      \"label\": \"Trading name information\",\r\n      \"type\": \"group\",\r\n      \"layout\": {\r\n        \"row\": \"Row_19e6ril\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_08s306t\",\r\n      \"path\": \"traiding_name_information\",\r\n      \"verticalAlignment\": \"start\"\r\n    },\r\n    {\r\n      \"height\": 1,\r\n      \"label\": \"Spacer\",\r\n      \"type\": \"spacer\",\r\n      \"layout\": {\r\n        \"row\": \"Row_1o5q6l8\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_1acnpun\"\r\n    },\r\n    {\r\n      \"components\": [\r\n        {\r\n          \"label\": \"Country\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0h2scn4\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0c8eor2\",\r\n          \"key\": \"country\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"City / Suburb\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0h2scn4\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_01vyzp7\",\r\n          \"key\": \"city_suburb\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Post Code\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_11tja6x\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0m7xq39\",\r\n          \"key\": \"textfield_ejwper\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"State\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_11tja6x\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0qst1ds\",\r\n          \"key\": \"state\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Physical Address Line 1\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_1yq9wqp\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0ztzqtc\",\r\n          \"key\": \"physical_address_line_1\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Physical Address Line 2\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0nezg2x\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0p3sj07\",\r\n          \"key\": \"physical_address_line_2\"\r\n        }\r\n      ],\r\n      \"showOutline\": true,\r\n      \"label\": \"Physical Address\",\r\n      \"type\": \"group\",\r\n      \"layout\": {\r\n        \"row\": \"Row_1su5vd0\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_0fbvf1q\",\r\n      \"path\": \"physical_address\"\r\n    },\r\n    {\r\n      \"height\": 1,\r\n      \"label\": \"Spacer\",\r\n      \"type\": \"spacer\",\r\n      \"layout\": {\r\n        \"row\": \"Row_0f9v15l\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_0nr92hg\"\r\n    },\r\n    {\r\n      \"components\": [\r\n        {\r\n          \"label\": \"Same as physical address\",\r\n          \"type\": \"checkbox\",\r\n          \"layout\": {\r\n            \"row\": \"Row_03rqlcz\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_1yuftuv\",\r\n          \"key\": \"same_as_physical_address\",\r\n          \"properties\": {},\r\n          \"defaultValue\": true,\r\n          \"disabled\": false\r\n        },\r\n        {\r\n          \"label\": \"Country\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0qjj8t6\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0bfaooq\",\r\n          \"key\": \"country\",\r\n          \"conditional\": {\r\n            \"hide\": \"=postal_address.same_as_physical_address\"\r\n          },\r\n          \"validate\": {\r\n            \"required\": false\r\n          },\r\n          \"readonly\": false,\r\n          \"disabled\": false\r\n        },\r\n        {\r\n          \"label\": \"City / Suburb\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0qjj8t6\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0zfpusx\",\r\n          \"key\": \"city_suburb\",\r\n          \"validate\": {\r\n            \"required\": false\r\n          },\r\n          \"conditional\": {\r\n            \"hide\": \"=postal_address.same_as_physical_address\"\r\n          },\r\n          \"disabled\": false\r\n        },\r\n        {\r\n          \"label\": \"Post Code\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0h7uu0w\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_1i6s3jq\",\r\n          \"key\": \"post_code\",\r\n          \"validate\": {\r\n            \"required\": false\r\n          },\r\n          \"conditional\": {\r\n            \"hide\": \"=postal_address.same_as_physical_address\"\r\n          },\r\n          \"disabled\": false\r\n        },\r\n        {\r\n          \"label\": \"State\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0h7uu0w\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0yqgz1z\",\r\n          \"key\": \"state\",\r\n          \"validate\": {\r\n            \"required\": false\r\n          },\r\n          \"conditional\": {\r\n            \"hide\": \"=postal_address.same_as_physical_address\"\r\n          },\r\n          \"disabled\": false\r\n        },\r\n        {\r\n          \"label\": \"Postal Address Line 1\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_099ci6v\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_1jyh06p\",\r\n          \"key\": \"postal_address_line_1\",\r\n          \"validate\": {\r\n            \"required\": false\r\n          },\r\n          \"conditional\": {\r\n            \"hide\": \"=postal_address.same_as_physical_address\"\r\n          },\r\n          \"disabled\": false\r\n        },\r\n        {\r\n          \"label\": \"Postal Address Line 2\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0xdvo2c\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_1708cyt\",\r\n          \"key\": \"postal_address_line_2\",\r\n          \"conditional\": {\r\n            \"hide\": \"=postal_address.same_as_physical_address\"\r\n          },\r\n          \"disabled\": false\r\n        }\r\n      ],\r\n      \"showOutline\": true,\r\n      \"label\": \"Postal Address\",\r\n      \"type\": \"group\",\r\n      \"layout\": {\r\n        \"row\": \"Row_1n6q20h\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_0nezip8\",\r\n      \"path\": \"postal_address\"\r\n    },\r\n    {\r\n      \"height\": 1,\r\n      \"label\": \"Spacer\",\r\n      \"type\": \"spacer\",\r\n      \"layout\": {\r\n        \"row\": \"Row_1nogdta\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_0qo4hjd\"\r\n    },\r\n    {\r\n      \"components\": [\r\n        {\r\n          \"label\": \"Email Address\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_1wqy8ap\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_1vmy8bx\",\r\n          \"key\": \"email_address\",\r\n          \"validate\": {\r\n            \"required\": true,\r\n            \"validationType\": \"email\"\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Landline Phone Number\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_1s21dc9\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0lctx2m\",\r\n          \"key\": \"landline_phone_number\",\r\n          \"validate\": {\r\n            \"required\": true,\r\n            \"validationType\": \"phone\"\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Mobile Phone Number\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_1u4gdg3\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0ha0zio\",\r\n          \"key\": \"mobile_phone_number\",\r\n          \"validate\": {\r\n            \"validationType\": \"phone\"\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Fax Number\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0a20zmp\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_1vjd8kg\",\r\n          \"key\": \"fax_number\"\r\n        },\r\n        {\r\n          \"label\": \"Website Address\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_14dbmty\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0a2zi0k\",\r\n          \"key\": \"website_address\"\r\n        }\r\n      ],\r\n      \"showOutline\": true,\r\n      \"label\": \"Other company information\",\r\n      \"type\": \"group\",\r\n      \"layout\": {\r\n        \"row\": \"Row_1uduo8e\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_1kwavxx\",\r\n      \"path\": \"other_company_information\"\r\n    },\r\n    {\r\n      \"height\": 1,\r\n      \"label\": \"Spacer\",\r\n      \"type\": \"spacer\",\r\n      \"layout\": {\r\n        \"row\": \"Row_1pgak2n\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_161ydcp\"\r\n    },\r\n    {\r\n      \"components\": [\r\n        {\r\n          \"label\": \"BSB\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_03xw1d9\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0t8pj95\",\r\n          \"key\": \"bsb\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Bank Account Number\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0q3qqbg\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_1absxcq\",\r\n          \"key\": \"bank_account_number\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Account Name\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_117agke\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_17813zo\",\r\n          \"key\": \"account_name\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        }\r\n      ],\r\n      \"showOutline\": true,\r\n      \"label\": \"Payment Information\",\r\n      \"type\": \"group\",\r\n      \"layout\": {\r\n        \"row\": \"Row_191up19\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_1piwi5b\",\r\n      \"path\": \"payment_information\"\r\n    },\r\n    {\r\n      \"height\": 1,\r\n      \"label\": \"Spacer\",\r\n      \"type\": \"spacer\",\r\n      \"layout\": {\r\n        \"row\": \"Row_0537w0s\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_0z3kvnq\"\r\n    },\r\n    {\r\n      \"components\": [\r\n        {\r\n          \"label\": \"First Name\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_1xi8n0p\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_1y3lac4\",\r\n          \"key\": \"first_name\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Last Name\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0jtuk7z\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0supwcv\",\r\n          \"key\": \"last_name\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        },\r\n        {\r\n          \"label\": \"Position\",\r\n          \"type\": \"textfield\",\r\n          \"layout\": {\r\n            \"row\": \"Row_0nla5vs\",\r\n            \"columns\": null\r\n          },\r\n          \"id\": \"Field_0a1ubx0\",\r\n          \"key\": \"position\",\r\n          \"validate\": {\r\n            \"required\": true\r\n          }\r\n        }\r\n      ],\r\n      \"showOutline\": true,\r\n      \"label\": \"Company Representative Details\",\r\n      \"type\": \"group\",\r\n      \"layout\": {\r\n        \"row\": \"Row_1mcybn7\",\r\n        \"columns\": null\r\n      },\r\n      \"id\": \"Field_1go1p1a\",\r\n      \"path\": \"company_representative_details\"\r\n    }\r\n  ],\r\n  \"type\": \"default\",\r\n  \"id\": \"Supplier_onboarding_form\",\r\n  \"executionPlatform\": \"Camunda Cloud\",\r\n  \"executionPlatformVersion\": \"8.5.0\",\r\n  \"schemaVersion\": 16\r\n}\r\n"
const val defaultData = "{}"
@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun FormView(
    modifier: Modifier = Modifier,
    schema:String = defaultSchema,
    data:String = defaultData,
    onBackClick: () -> Unit,
) {
    Scaffold(
        topBar = {
            TopAppBar(
                title = {
                    Text(
                        text = "Form",
                        style = ElementTheme.typography.aliasScreenTitle,
                    )
                },
                navigationIcon = { BackButton(onClick = onBackClick) }
            )
        },
        modifier = modifier
    ) { padding ->
        Column(
            modifier = Modifier
                .fillMaxWidth()
                .padding(padding)
                .consumeWindowInsets(padding)
                .padding(horizontal = 16.dp)
        ) {
            Form(
                schema = schema,
                data = data
            )
        }
    }
}
